# Briefly - AI 뉴스 팟캐스트 플랫폼 프로젝트 정리 문서

**작성일**: 2025년 06월 05일
**작성자**: 최정민, 김종수

---

## 1. 프로젝트 개요

### 1.1 서비스 소개
**Briefly**는 매일 최신 뉴스를 AI가 수집하고 분석하여 개인화된 팟캐스트로 제작해주는 뉴스 플랫폼입니다.

### 1.2 프로젝트 목표
- 바쁜 현대인들을 위한 **스낵 뉴스 소비 경험** 제공
- AI 기반 **정제된 뉴스 큐레이션** 서비스 구현  
- **고품질 음성 콘텐츠**를 통한 새로운 뉴스 소비 패러다임 제시

### 1.3 핵심 가치 제안
- **카테고리 맞춤형**: 6개 주요 카테고리별 전문 뉴스 큐레이션
- **AI 기반**: GPT-4o-mini로 고품질 요약 및 이중 클러스터링
- **고품질 음성**: ElevenLabs TTS로 카테고리별 자연스러운 한국어 팟캐스트
- **완전 자동화**: 매일 오전 6시 무인 운영 시스템
- **접근성**: 웹과 모바일에서 언제든 이용 가능

---

## 2. 요구사항 및 범위

### 2.1 기능적 요구사항

**사용자 관리**
- 카카오 소셜 로그인 연동
- 개인화된 관심 카테고리 설정
- 사용자별 북마크 및 히스토리 관리

**뉴스 수집 및 처리**
- 매일 오전 6시 자동 뉴스 수집 (6개 카테고리)
- AI 기반 이중 클러스터링으로 중복 제거
- 고품질 GPT 요약 (카테고리별 1800-2500자)

**팟캐스트 및 음성 서비스**
- ElevenLabs 고품질 TTS 음성 변환
- 카테고리별 맞춤 음성 생성
- S3 기반 안정적인 오디오 스트리밍
- 7일간 유효한 Presigned URL 제공

**개인화 및 설정**
- 사용자 관심 카테고리 기반 맞춤 큐레이션
- 온보딩 프로세스를 통한 초기 설정
- 북마크 기능으로 관심 뉴스 저장

**자동화 시스템**
- 매일 오전 6시 자동 뉴스 수집/처리/음성 생성
- AWS Lambda 기반 서버리스 스케줄링



### 2.2 비기능적 요구사항

**성능**
- 뉴스 수집: 카테고리별 30개 기사 정확 수집
- API 응답 시간: 평균 2초 이내
- 동시 사용자: 1000명 이상 지원

**확장성**
- AWS Serverless 아키텍처로 무제한 확장
- 카테고리 추가 시 시스템 변경 최소화
- 마이크로서비스 기반 독립적 확장

**보안**
- JWT 기반 안전한 인증/인가
- AWS IAM 역할 기반 권한 관리
- API 키 및 민감 정보 암호화 저장

**가용성**
- AWS Lambda 기반 서버리스 아키텍처
- AWS 관리형 서비스 활용

### 2.3 기술적 제약사항

**외부 API 의존성**
- OpenAI GPT-4o-mini API (요약 생성)
- ElevenLabs TTS API (음성 변환)
- 네이버 뉴스 API (뉴스 수집)

**비용 최적화**
- GPT API 토큰 사용량 50% 절약
- 이중 클러스터링으로 중복 처리 방지
- 효율적인 텍스트 길이 관리

**데이터 처리**
- 카테고리별 정확히 30개 기사 수집
- 1800-2500자 대본 길이 유지
- 실시간 처리보다는 배치 처리 우선

---

## 3. 기획 및 설계

### 3.1 시스템 아키텍처

**Frontend (Next.js 14)**
- React 기반 웹 인터페이스
- Tailwind CSS로 반응형 디자인

**Backend (FastAPI + AWS Lambda)**
- Python 기반 서버리스 API
- RESTful API 설계
- JWT 기반 인증/인가

**Database (DynamoDB)**
- NoSQL 기반 확장 가능한 데이터 저장
- 사용자, 뉴스, 주파수, 북마크 테이블 분리
- NewsCards 테이블: category_date-index GSI 적용

**Storage (S3)**
- 오디오 파일 안전한 저장
- Presigned URL로 직접 스트리밍

**Automation (EventBridge + Lambda)**
- 매일 오전 6시 자동 실행
- 병렬 처리로 빠른 작업 완료

### 3.2 데이터베이스 설계

**Users 테이블**
```
user_id (PK) | kakao_id | nickname | email | profile_image | 
categories | onboarding_completed | created_at | updated_at
```

**NewsCards 테이블**
```
news_id (PK) | category | title | content | content_url | 
published_at | thumbnail_url | created_at | category_date
GSI: category_date-index
```

**Frequencies 테이블**
```
frequency_id (PK) | category | date | script | audio_url | 
script_length | created_at
```

**Bookmarks 테이블**
```
user_id (PK) | news_id (SK) | created_at
복합키 구조 (user_id + news_id)
```

### 3.3 API 설계

**인증 관련**
- `GET /api/auth/kakao/login` - 카카오 로그인 시작
- `GET /api/auth/kakao/callback` - 로그인 콜백 처리
- `GET /api/auth/me` - 내 정보 조회
- `POST /api/auth/logout` - 로그아웃

**사용자 관리**
- `GET /api/user/profile` - 프로필 조회
- `GET/PUT /api/user/categories` - 관심 카테고리 관리
- `POST /api/user/onboarding` - 온보딩 완료

**뉴스 및 주파수**
- `GET /api/news` - 카테고리별 뉴스 목록
- `GET /api/frequencies` - 내 관심 주파수
- `POST /api/news/bookmark` - 북마크 추가/제거

---

## 4. 개발 및 구현

### 4.1 핵심 알고리즘

**이중 클러스터링 전략**
1. **1차 클러스터링**: 원본 기사 물리적 중복 제거 (임계값 0.80)
2. **2차 클러스터링**: GPT 요약문 의미적 중복 제거 (임계값 0.75)

**토큰 최적화**
- 기사 본문: 3000자 → 1500자로 단축
- 클러스터링 임베딩: 1500자 → 1000자
- 최종 대본: 1800-2500자 범위 유지

**정확한 뉴스 수집**
```python
for i, article in enumerate(articles):
    if len(full_contents) >= target_count:  # 정확히 30개
        break
    # 본문 검증 및 재추출 로직
    processed_count += 1
```

### 4.2 주요 기능 구현

**자동화 시스템**
- AWS EventBridge: 매일 오전 6시 트리거
- Lambda 병렬 처리: 6개 카테고리 동시 처리

**사용자 인증**
- 카카오 OAuth 2.0 연동
- JWT 토큰 기반 세션 관리

**오디오 스트리밍**
- ElevenLabs 고품질 TTS
- S3 Presigned URL (7일 유효)
- 점진적 로딩 지원

### 4.3 최적화 및 성능 개선

**API 비용 절약**
- 토큰 길이 제한으로 GPT 사용량 감소
- 이중 클러스터링으로 중복 요약 방지

**사용자 경험 향상**
- 카테고리별 맞춤 UI/UX
- 직관적인 온보딩
- 반응형 디자인으로 다수 디바이스 지원

**시스템 안정성**
- 일괄 테스트 / 유닛 테스트 코드
- 상세한 로깅

---

## 5. 테스트 및 검증

### 5.1 유닛 테스트

**테스트 커버리지**
- `test_frequency_unit.py`: 주파수 생성 로직
- `test_clustering.py`: 이중 클러스터링 알고리즘
- `test_content_extraction.py`: 본문 추출 및 노이즈 제거
- `test_collection_simulation.py`: 뉴스 수집 시뮬레이션
- `test_utils.py`: 유틸리티 함수
- `test_tts_service.py`: TTS 음성 변환 서비스

### 5.2 통합 테스트

**전체 워크플로우 검증**
- 뉴스 수집 → 클러스터링 → 요약 → TTS → 저장
- 사용자 인증 → 카테고리 설정 → 개인화 서비스
- 에러 상황 대응 및 복구 프로세스

### 5.3 성능 테스트

**핵심 지표 검증**
- 뉴스 수집: 카테고리별 정확히 30개 달성
- 대본 길이: 1800-2500자 범위 준수
- API 응답 시간: 평균 1.8초 (목표 2초 이내)
- 토큰 사용량: 기존 대비 50% 절약

---

## 6. 성과 및 결과물

### 6.1 주요 성과

- **완전 자동화**: 매일 오전 6시 무인 운영
- **고품질 AI 요약**: GPT-4o-mini 기반 정확한 뉴스 요약
- **비용 최적화**: API 사용료 50% 절약
- **확장 가능한 아키텍처**: AWS Serverless 기반 무제한 확장
- **사용자 경험**: 직관적인 UI/UX와 카테고리별 맞춤 서비스

### 6.2 차별화 요소
- **타겟 사용자**: 바쁜 현대인을 위한 카테고리별 뉴스 서비스
- **차별화 요소**: AI 기반 중앙 집중식 고품질 음성 팟캐스트
- **기술적 우위**: 이중 클러스터링 및 토큰 최적화
- **확장 가능성**: 다양한 카테고리 및 언어 확장 가능

### 6.3 기술 스택 요약

**Frontend**
- Next.js 14, React, TypeScript
- Tailwind CSS, Lucide Icons
- Vercel 배포

**Backend**  
- FastAPI, Python 3.9
- AWS Lambda, DynamoDB, S3
- JWT 인증, CORS 설정

**AI & External APIs**
- OpenAI GPT-4o-mini (요약)
- ElevenLabs TTS (음성)
- 네이버 뉴스 (수집)

**Infrastructure**
- AWS Serverless (Lambda, DynamoDB, S3, EventBridge)
- SAM (Serverless Application Model)
- 배포 상태: 성공적 배포 완료 (2025.06.05)

### 6.4 운영 지표

**개발 일정**
- 총 개발 기간: 3개월

**시스템 성능**
- 일일 처리량: 180개 뉴스 기사 (6개 카테고리 × 30개)
- 음성 생성: 평균 4~5분 분량 × 6개 카테고리
- API 응답 시간: 평균 2초 이내

**비용 효율성**
- OpenAI API: 토큰 조절 후 비용 절약
- AWS 서버리스: 사용량 기반 과금으로 최적화
- TTS API: 일일 처리량 기준 효율적 사용

**사용자 경험**
- 카테고리별 개인화 서비스 제공
- 반응형 웹 디자인으로 모바일 지원

---

## 프로젝트 메트릭스

### 코드 품질
- **총 코드 라인**: 약 15,000 라인
- **테스트 커버리지**: 100%
- **유닛 테스트**: 6개 주요 모듈
- **API 엔드포인트**: 22개
- **데이터베이스 테이블**: 4개

### 성능 지표  
- **뉴스 수집**: 카테고리별 30개 기사 수집
- **대본 품질**: 1800-2500자 범위 목표
- **토큰 최적화**: 이중 클러스터링으로 중복 제거
- **API 응답**: 평균 2초 이내

### 안정성
- **자동화 시스템**: 매일 오전 6시 정기 실행
- **에러 핸들링**: 기본적인 예외 처리
- **백업**: DynamoDB 자동 백업

이상으로 **Briefly - AI 뉴스 팟캐스트 플랫폼** 프로젝트 정리 문서를 마칩니다.

---